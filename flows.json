[
    {
        "id": "e0c8c764cd92cafb",
        "type": "tab",
        "label": "Intercom Flow",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "46c538664502263c",
        "type": "tab",
        "label": "Raspberry monitoring",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5664a048acfcbac1",
        "type": "tab",
        "label": "Sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0d812e09d413a274",
        "type": "tab",
        "label": "Devices",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "38e902423e538381",
        "type": "mqtt-broker",
        "name": "bbautomation",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "dde4ad20d7f5adb6",
        "type": "ui_tab",
        "name": "Build Brighton",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "75c33eb13b040290",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "a1927dc69f45eb27",
        "type": "discord-token",
        "name": "BB Intercom"
    },
    {
        "id": "9cb4bc4d.96552",
        "type": "ui_group",
        "name": "System",
        "tab": "dde4ad20d7f5adb6",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "58f8c24c9a9fdac1",
        "type": "ui_group",
        "name": "Devices",
        "tab": "dde4ad20d7f5adb6",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "44de918663ff4cd7",
        "type": "ui_group",
        "name": "Sensor",
        "tab": "dde4ad20d7f5adb6",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c27ea1daa597e04a",
        "type": "mqtt in",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "/intercom/active",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 100,
        "y": 120,
        "wires": [
            [
                "3f3096deea1218a3"
            ]
        ]
    },
    {
        "id": "c6e4ed25a02d504f",
        "type": "discordMessageManager",
        "z": "e0c8c764cd92cafb",
        "name": "Test message",
        "channel": "1160625220114190376",
        "token": "a1927dc69f45eb27",
        "x": 1000,
        "y": 60,
        "wires": [
            [
                "a88d8d84059518ea"
            ]
        ]
    },
    {
        "id": "79db2529ebb72db0",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "Test Discord",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 570,
        "y": 140,
        "wires": [
            [
                "8d2db524903656dc"
            ]
        ]
    },
    {
        "id": "a88d8d84059518ea",
        "type": "debug",
        "z": "e0c8c764cd92cafb",
        "name": "debug",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 60,
        "wires": []
    },
    {
        "id": "3f3096deea1218a3",
        "type": "switch",
        "z": "e0c8c764cd92cafb",
        "name": "If active",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 80,
        "wires": [
            [
                "172bd39df4e63d43",
                "a9c68db4b9bee5d3"
            ],
            []
        ]
    },
    {
        "id": "172bd39df4e63d43",
        "type": "change",
        "z": "e0c8c764cd92cafb",
        "name": "Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 100,
        "wires": [
            [
                "bd5a5e008d058f54",
                "8d2db524903656dc"
            ]
        ]
    },
    {
        "id": "bd5a5e008d058f54",
        "type": "moment",
        "z": "e0c8c764cd92cafb",
        "name": "Ding-dong",
        "topic": "",
        "input": "",
        "inputType": "msg",
        "inTz": "Europe/London",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "[DING DONG @ ]HH:mm:ss",
        "locale": "en-GB",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/London",
        "x": 810,
        "y": 60,
        "wires": [
            [
                "c6e4ed25a02d504f"
            ]
        ]
    },
    {
        "id": "13fa2969ce9751c3",
        "type": "ui_button",
        "z": "e0c8c764cd92cafb",
        "name": "Door bell",
        "group": "58f8c24c9a9fdac1",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Ding-Dong!",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "a9c68db4b9bee5d3"
            ]
        ]
    },
    {
        "id": "ff161c0ce9f7aacf",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "Test blink",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 240,
        "wires": [
            [
                "13fa2969ce9751c3"
            ]
        ]
    },
    {
        "id": "efa8fbae18b2b382",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "Test intercom",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "3f3096deea1218a3"
            ]
        ]
    },
    {
        "id": "84addd14d397a3f5",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "BlinkCount",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "str",
        "x": 130,
        "y": 740,
        "wires": [
            [
                "0383925a09b90b6b",
                "03588be6713a9bd7",
                "4ef23a354b37bb90"
            ]
        ]
    },
    {
        "id": "767bc7d4d90d9997",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Cleanroom/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 850,
        "y": 180,
        "wires": []
    },
    {
        "id": "a9c68db4b9bee5d3",
        "type": "change",
        "z": "e0c8c764cd92cafb",
        "name": "Blink",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "BLINK",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 240,
        "wires": [
            [
                "767bc7d4d90d9997",
                "deb992eabe79050d",
                "ac07f530f44de849"
            ]
        ]
    },
    {
        "id": "752d3fb0db120a06",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "Blink Time",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "str",
        "x": 770,
        "y": 740,
        "wires": [
            [
                "d0ed4ee3cb8f4fd5",
                "2c66733d1bd5e627",
                "92d77a952703ebe6"
            ]
        ]
    },
    {
        "id": "d0ed4ee3cb8f4fd5",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Cleanroom/BlinkTime",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 1060,
        "y": 660,
        "wires": []
    },
    {
        "id": "0383925a09b90b6b",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Cleanroom/BlinkCount",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 460,
        "y": 680,
        "wires": []
    },
    {
        "id": "03588be6713a9bd7",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Woodwork/BlinkCount",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 460,
        "y": 740,
        "wires": []
    },
    {
        "id": "2c66733d1bd5e627",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Woodwork/BlinkTime",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 1060,
        "y": 720,
        "wires": []
    },
    {
        "id": "deb992eabe79050d",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Woodwork/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 850,
        "y": 240,
        "wires": []
    },
    {
        "id": "ac07f530f44de849",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Mainroom/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 850,
        "y": 300,
        "wires": []
    },
    {
        "id": "4ef23a354b37bb90",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Mainroom/BlinkCount",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 460,
        "y": 800,
        "wires": []
    },
    {
        "id": "4a94668b048679ef",
        "type": "discordMessageManager",
        "z": "e0c8c764cd92cafb",
        "name": "BB messsage",
        "channel": "1002808225252507658",
        "token": "a1927dc69f45eb27",
        "x": 1000,
        "y": 120,
        "wires": [
            [
                "2830abc59c0c5e9a"
            ]
        ]
    },
    {
        "id": "2830abc59c0c5e9a",
        "type": "debug",
        "z": "e0c8c764cd92cafb",
        "name": "debug",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 120,
        "wires": []
    },
    {
        "id": "92d77a952703ebe6",
        "type": "mqtt out",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "topic": "cmnd/Mainroom/BlinkTime",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 1060,
        "y": 780,
        "wires": []
    },
    {
        "id": "8d2db524903656dc",
        "type": "moment",
        "z": "e0c8c764cd92cafb",
        "name": "Ding-dong",
        "topic": "",
        "input": "",
        "inputType": "msg",
        "inTz": "Europe/London",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "[The doorbell has been pressed @ ]HH:mm:ss",
        "locale": "en-GB",
        "output": "",
        "outputType": "msg",
        "outTz": "Europe/London",
        "x": 810,
        "y": 120,
        "wires": [
            [
                "4a94668b048679ef"
            ]
        ]
    },
    {
        "id": "882b87fdf1e37df7",
        "type": "inject",
        "z": "e0c8c764cd92cafb",
        "name": "Test Test Discord",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "0 0-23 * * *",
        "once": true,
        "onceDelay": "60",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 570,
        "y": 40,
        "wires": [
            [
                "bd5a5e008d058f54"
            ]
        ]
    },
    {
        "id": "bf7bdd76eb3cc144",
        "type": "status",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "scope": [
            "c6e4ed25a02d504f",
            "4a94668b048679ef"
        ],
        "x": 100,
        "y": 460,
        "wires": [
            [
                "1299128d2c45d549"
            ]
        ]
    },
    {
        "id": "bab874d39343ad7e",
        "type": "file",
        "z": "e0c8c764cd92cafb",
        "name": "debug.log",
        "filename": "/home/pi/debug.log",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 700,
        "y": 520,
        "wires": [
            [
                "42ba722a45e8a64a"
            ]
        ]
    },
    {
        "id": "cea76903f8d03891",
        "type": "switch",
        "z": "e0c8c764cd92cafb",
        "name": "",
        "property": "status.text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": ".*Error.*",
                "vt": "str",
                "case": false
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 460,
        "wires": [
            [
                "3b61d5ce7503b6ac"
            ],
            []
        ]
    },
    {
        "id": "42ba722a45e8a64a",
        "type": "debug",
        "z": "e0c8c764cd92cafb",
        "name": "debug 24",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 520,
        "wires": []
    },
    {
        "id": "3b61d5ce7503b6ac",
        "type": "delay",
        "z": "e0c8c764cd92cafb",
        "name": "Wait a little",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 950,
        "y": 440,
        "wires": [
            [
                "7735ce94c4b4fa24"
            ]
        ]
    },
    {
        "id": "7735ce94c4b4fa24",
        "type": "exec",
        "z": "e0c8c764cd92cafb",
        "command": "sudo reboot",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Reboot",
        "x": 1160,
        "y": 440,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "1299128d2c45d549",
        "type": "function",
        "z": "e0c8c764cd92cafb",
        "name": "Add timestamp",
        "func": "const now = new Date().toLocaleTimeString();\nmsg.payload = `${now}: ${msg.status?.source?.name} - ${msg.status?.text}`;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 460,
        "wires": [
            [
                "bab874d39343ad7e",
                "cea76903f8d03891"
            ]
        ]
    },
    {
        "id": "75628fb9b5074cb5",
        "type": "comment",
        "z": "e0c8c764cd92cafb",
        "name": "Reboot if Discord message fails",
        "info": "",
        "x": 170,
        "y": 400,
        "wires": []
    },
    {
        "id": "7ec26015990ea567",
        "type": "comment",
        "z": "e0c8c764cd92cafb",
        "name": "Set blink count",
        "info": "",
        "x": 120,
        "y": 640,
        "wires": []
    },
    {
        "id": "b5faa86b336e23ef",
        "type": "comment",
        "z": "e0c8c764cd92cafb",
        "name": "Set time between blinks in 0.1s",
        "info": "",
        "x": 770,
        "y": 640,
        "wires": []
    },
    {
        "id": "b31ce0e4f4660e16",
        "type": "ui_gauge",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "CPU Temperature",
        "label": "C",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "50",
        "seg2": "80",
        "diff": false,
        "className": "",
        "x": 683,
        "y": 33,
        "wires": []
    },
    {
        "id": "a2df6b1dbff54470",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "vcgencmd measure_temp",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "RPi Temp.",
        "x": 325.2221908569336,
        "y": 46.33333683013916,
        "wires": [
            [
                "d12bbc9f5fd0a6cd"
            ],
            [],
            []
        ]
    },
    {
        "id": "d4b90fa3b166b29e",
        "type": "inject",
        "z": "46c538664502263c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 107.49996185302734,
        "y": 46.805556297302246,
        "wires": [
            [
                "a2df6b1dbff54470",
                "8f097bd231a825c6",
                "eda7aa6fd5ab188d"
            ]
        ]
    },
    {
        "id": "d12bbc9f5fd0a6cd",
        "type": "function",
        "z": "46c538664502263c",
        "name": "",
        "func": "let str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 471.888858795166,
        "y": 33.00000190734863,
        "wires": [
            [
                "b31ce0e4f4660e16"
            ]
        ]
    },
    {
        "id": "8f097bd231a825c6",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "CPU Load",
        "x": 325.2221908569336,
        "y": 126.33333683013916,
        "wires": [
            [
                "a7bffdf8b965f97c",
                "53cf284a37f0047c"
            ],
            [],
            []
        ]
    },
    {
        "id": "eda7aa6fd5ab188d",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "free | grep Mem | awk '{print 100*($4+$6+$7)/$2}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "winHide": false,
        "name": "Free Memory",
        "x": 325.2222099304199,
        "y": 190.55557250976562,
        "wires": [
            [
                "bde8b48141ce4011"
            ],
            [],
            []
        ]
    },
    {
        "id": "a7bffdf8b965f97c",
        "type": "ui_gauge",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 8,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "CPU",
        "label": "CPU",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 650,
        "y": 80,
        "wires": []
    },
    {
        "id": "bde8b48141ce4011",
        "type": "ui_gauge",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 5,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Memory free",
        "label": "%",
        "format": "{{parseInt(value)}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#e6e600",
            "#00b500"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 663.3333320617676,
        "y": 176.55556392669678,
        "wires": []
    },
    {
        "id": "cbebe19a60de0740",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "df -h",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "winHide": false,
        "name": "Disk Usage",
        "x": 322.88884353637695,
        "y": 258.2222442626953,
        "wires": [
            [
                "c9f44e42d8c1b882"
            ],
            [],
            []
        ]
    },
    {
        "id": "2d9f0d47948d78ea",
        "type": "ui_gauge",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 6,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Disk Space",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 661.1110496520996,
        "y": 244.88890743255615,
        "wires": []
    },
    {
        "id": "c9f44e42d8c1b882",
        "type": "function",
        "z": "46c538664502263c",
        "name": "",
        "func": "var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470.66661071777344,
        "y": 244.88890171051025,
        "wires": [
            [
                "2d9f0d47948d78ea"
            ]
        ]
    },
    {
        "id": "a9b11aae378da5ba",
        "type": "inject",
        "z": "46c538664502263c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 122.88884353637695,
        "y": 258.2222442626953,
        "wires": [
            [
                "cbebe19a60de0740",
                "fc615c40ead9f612",
                "8b713e145fc869ba"
            ]
        ]
    },
    {
        "id": "aeb03266b5fc830d",
        "type": "ui_text",
        "z": "46c538664502263c",
        "group": "9cb4bc4d.96552",
        "order": 2,
        "width": "6",
        "height": "2",
        "name": "",
        "label": "IP Address",
        "format": "{{value.substring(0, value.indexOf(\" \"))}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 650,
        "y": 520,
        "wires": []
    },
    {
        "id": "91606c26818645b6",
        "type": "inject",
        "z": "46c538664502263c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 480,
        "wires": [
            [
                "3959be6ac3537d9d"
            ]
        ]
    },
    {
        "id": "3959be6ac3537d9d",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "hostname",
        "addpay": false,
        "append": "-I",
        "useSpawn": "",
        "timer": "",
        "winHide": false,
        "name": "Get Local IP",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "45df644cef3ee04e",
                "aeb03266b5fc830d"
            ],
            [],
            []
        ]
    },
    {
        "id": "45df644cef3ee04e",
        "type": "mqtt out",
        "z": "46c538664502263c",
        "name": "Publish IP",
        "topic": "bbautomation/system/ip",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 640,
        "y": 460,
        "wires": []
    },
    {
        "id": "53cf284a37f0047c",
        "type": "ui_chart",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 9,
        "width": "6",
        "height": "4",
        "label": "CPU Load",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "033f62c483ecb5d6",
        "type": "ui_button",
        "z": "46c538664502263c",
        "name": "Reboot",
        "group": "9cb4bc4d.96552",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reboot NOW!",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 580,
        "wires": [
            [
                "1a64d430942a1ac0"
            ]
        ]
    },
    {
        "id": "1a64d430942a1ac0",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "sudo reboot",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Reboot",
        "x": 340,
        "y": 580,
        "wires": [
            [
                "2e31d17cfe405fb3"
            ],
            [
                "2e31d17cfe405fb3"
            ],
            [
                "2e31d17cfe405fb3"
            ]
        ]
    },
    {
        "id": "2e31d17cfe405fb3",
        "type": "debug",
        "z": "46c538664502263c",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 580,
        "wires": []
    },
    {
        "id": "fc615c40ead9f612",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "uptime -p",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Uptime",
        "x": 340,
        "y": 320,
        "wires": [
            [
                "852a10958adfbf67"
            ],
            [],
            []
        ]
    },
    {
        "id": "6263d60f639a08f9",
        "type": "ui_text",
        "z": "46c538664502263c",
        "group": "9cb4bc4d.96552",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Uptime",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 680,
        "y": 300,
        "wires": []
    },
    {
        "id": "852a10958adfbf67",
        "type": "function",
        "z": "46c538664502263c",
        "name": "function",
        "func": "msg.payload = msg.payload.substr(3);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 300,
        "wires": [
            [
                "6263d60f639a08f9"
            ]
        ]
    },
    {
        "id": "8b713e145fc869ba",
        "type": "exec",
        "z": "46c538664502263c",
        "command": "swapon --bytes --show=USED,SIZE",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Swap",
        "x": 330,
        "y": 380,
        "wires": [
            [
                "aed8a91f234ea579"
            ],
            [],
            []
        ]
    },
    {
        "id": "aed8a91f234ea579",
        "type": "function",
        "z": "46c538664502263c",
        "name": "function 3",
        "func": "const tokens = msg.payload.split(/(\\s+)/).filter((token) => token.trim().length > 0);\nconst used = parseInt(tokens[2], 10);\nconst total = parseInt(tokens[3], 10) || 1;\nconst percent = Math.round(used / total *1000.0)/10;\nmsg.payload = percent;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 380,
        "wires": [
            [
                "247a9e2f041a106b",
                "7cf7b3c257825eae"
            ]
        ]
    },
    {
        "id": "247a9e2f041a106b",
        "type": "ui_gauge",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 7,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Swap",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 690,
        "y": 360,
        "wires": []
    },
    {
        "id": "7cf7b3c257825eae",
        "type": "ui_chart",
        "z": "46c538664502263c",
        "name": "",
        "group": "9cb4bc4d.96552",
        "order": 9,
        "width": "6",
        "height": "4",
        "label": "Swap",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 690,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "8fb1e2472bc4a008",
        "type": "ui_chart",
        "z": "5664a048acfcbac1",
        "name": "",
        "group": "44de918663ff4cd7",
        "order": 4,
        "width": "0",
        "height": "0",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "2000",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#ff0011",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "bc0ab866a7da0af9",
        "type": "mqtt in",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/info",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 150,
        "y": 440,
        "wires": [
            [
                "400ed82b99dbe691"
            ]
        ]
    },
    {
        "id": "400ed82b99dbe691",
        "type": "debug",
        "z": "5664a048acfcbac1",
        "name": "debug 11",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 400,
        "y": 440,
        "wires": []
    },
    {
        "id": "80327b646a800a94",
        "type": "debug",
        "z": "5664a048acfcbac1",
        "name": "debug 12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 400,
        "y": 500,
        "wires": []
    },
    {
        "id": "fffc90ee2dda2962",
        "type": "mqtt in",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 500,
        "wires": [
            [
                "80327b646a800a94"
            ]
        ]
    },
    {
        "id": "ec4707473fea5bfa",
        "type": "ui_chart",
        "z": "5664a048acfcbac1",
        "name": "",
        "group": "44de918663ff4cd7",
        "order": 5,
        "width": "6",
        "height": "5",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "8000",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#fb096a",
            "#06a22d",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "ca03300cf04372ec",
        "type": "mqtt in",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/audio/event",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 120,
        "wires": [
            [
                "bc0beaec0206f86c",
                "8c81ca4559e23434"
            ]
        ]
    },
    {
        "id": "bc0beaec0206f86c",
        "type": "function",
        "z": "5664a048acfcbac1",
        "name": "Split event",
        "func": "const now = new Date();\nconst startOfDay = new Date();\n\nstartOfDay.setHours(0, 0, 0, 0);\n\nconst secondsSinceStartOfDay = (now.getTime() - startOfDay.getTime()) / 1000;\n// Add timestamp to the payload\nmsg.payload.timestamp = secondsSinceStartOfDay;\n\nconst msg1 = { \n    payload: msg.payload.loudness, \n    topic: 'Loudness'\n};\n\nconst msg2 = {\n    payload: msg.payload.peak,\n    topic: 'Frequency'\n};\n\nconst msg3 = {\n    payload: msg.payload.inrange,\n    topic: 'Match'\n}\n\n\nreturn [msg, msg1, msg2, msg3];",
        "outputs": 4,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 120,
        "wires": [
            [
                "223da7cbfb02412d"
            ],
            [
                "8fb1e2472bc4a008"
            ],
            [
                "ec4707473fea5bfa"
            ],
            [
                "88c39c8c77a6acdc"
            ]
        ]
    },
    {
        "id": "3192b4d273066597",
        "type": "function",
        "z": "5664a048acfcbac1",
        "name": "Set filename",
        "func": "const pad = (number, length) => {\n  return String(number).padStart(length, '0');\n};\n\nconst date = new Date();\nconst year = date.getFullYear();\nconst month = pad(date.getMonth() + 1, 2); // Months in JavaScript are zero-indexed\nconst day = pad(date.getDate(), 2);\n\nconst datestamp = `${year}-${month}-${day}`;\n\nconst filename = `audio_log_${datestamp}.csv`;\nmsg.filename = `/home/pi/audio_files/${filename}`;\nmsg.content = msg.payload;\nmsg.payload = {pattern: filename};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 40,
        "wires": [
            [
                "5f2ada27bdd15bd9"
            ]
        ]
    },
    {
        "id": "5f2ada27bdd15bd9",
        "type": "fs-file-lister",
        "z": "5664a048acfcbac1",
        "name": "File exists?",
        "start": "/home/pi/audio_files",
        "pattern": "*.*",
        "folders": "*",
        "hidden": true,
        "lstype": "files",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": true,
        "x": 1190,
        "y": 40,
        "wires": [
            [
                "dedd561c880b3f83"
            ]
        ]
    },
    {
        "id": "dedd561c880b3f83",
        "type": "switch",
        "z": "5664a048acfcbac1",
        "name": "",
        "property": "$count(msg.payload)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 220,
        "wires": [
            [
                "03a9599b47258eb5"
            ],
            [
                "4732e171b3ef06e5"
            ]
        ]
    },
    {
        "id": "03a9599b47258eb5",
        "type": "change",
        "z": "5664a048acfcbac1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "content",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 180,
        "wires": [
            [
                "0d74fd3230405c2f"
            ]
        ]
    },
    {
        "id": "4732e171b3ef06e5",
        "type": "change",
        "z": "5664a048acfcbac1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "content",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 260,
        "wires": [
            [
                "15089e87e4d51e39"
            ]
        ]
    },
    {
        "id": "0d74fd3230405c2f",
        "type": "csv",
        "z": "5664a048acfcbac1",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "all",
        "multi": "one",
        "ret": "\\n",
        "temp": "timestamp,loudness,peak",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "ad06a915873817f1"
            ]
        ]
    },
    {
        "id": "15089e87e4d51e39",
        "type": "csv",
        "z": "5664a048acfcbac1",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "none",
        "multi": "one",
        "ret": "\\n",
        "temp": "timestamp,loudness,peak",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 1150,
        "y": 260,
        "wires": [
            [
                "ad06a915873817f1"
            ]
        ]
    },
    {
        "id": "ad06a915873817f1",
        "type": "file",
        "z": "5664a048acfcbac1",
        "name": "Write to file",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 1310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "223da7cbfb02412d",
        "type": "function",
        "z": "5664a048acfcbac1",
        "name": "Filter",
        "func": "const loudness = context.get(\"loudness\") || 0;\nconst peak = context.get('peak') || 0;\nif (msg.payload.loudness !== loudness || msg.payload.peak !== peak) {\n    context.set('loudness', msg.payload.loudness);\n    context.set('peak', msg.payload.peak);\n    return msg;\n}\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 40,
        "wires": [
            [
                "3192b4d273066597"
            ]
        ]
    },
    {
        "id": "8c81ca4559e23434",
        "type": "debug",
        "z": "5664a048acfcbac1",
        "name": "debug 13",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 200,
        "wires": []
    },
    {
        "id": "7742e4761b426071",
        "type": "inject",
        "z": "5664a048acfcbac1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 580,
        "wires": [
            [
                "4718a263a2cbfc0b"
            ]
        ]
    },
    {
        "id": "4718a263a2cbfc0b",
        "type": "function",
        "z": "5664a048acfcbac1",
        "name": "function 2",
        "func": "const now = new Date();\nconst seconds = now.getSeconds();\nif (seconds === 0) {\n    const hours = now.getHours().toString().padStart(2,'0');\n    const minutes = now.getMinutes().toString().padStart(2,'0');\n    const offset = now.getTimezoneOffset();\n    const isDST = offset === -60;\n    const timeZone = isDST ? \"BST\" : \"GMT\";\n    msg.payload = `${hours}:${minutes} ${timeZone}`;\n    return msg;\n}\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 580,
        "wires": [
            [
                "744c1cdd70852337"
            ]
        ]
    },
    {
        "id": "744c1cdd70852337",
        "type": "mqtt out",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/time",
        "qos": "",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 660,
        "y": 580,
        "wires": []
    },
    {
        "id": "88c39c8c77a6acdc",
        "type": "ui_chart",
        "z": "5664a048acfcbac1",
        "name": "",
        "group": "44de918663ff4cd7",
        "order": 5,
        "width": "0",
        "height": "0",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "3",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#fb096a",
            "#06a22d",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "277474ef30029cac",
        "type": "mqtt in",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/audio/samplerate",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 170,
        "y": 260,
        "wires": [
            [
                "42b1e3e14db13348"
            ]
        ]
    },
    {
        "id": "1411ddd68ca058e3",
        "type": "ui_text",
        "z": "5664a048acfcbac1",
        "group": "44de918663ff4cd7",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Sample rate",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 610,
        "y": 260,
        "wires": []
    },
    {
        "id": "42b1e3e14db13348",
        "type": "function",
        "z": "5664a048acfcbac1",
        "name": "function 1",
        "func": "const rate = Number(msg.payload);\nconst kHz = Math.round(rate / 100) / 10;\n\nreturn { payload: `${kHz}kHz`};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 260,
        "wires": [
            [
                "1411ddd68ca058e3"
            ]
        ]
    },
    {
        "id": "a01d51a238e28be3",
        "type": "mqtt in",
        "z": "5664a048acfcbac1",
        "name": "",
        "topic": "/intercom/audio/baseline",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 170,
        "y": 320,
        "wires": [
            [
                "651f1e98c04e544f"
            ]
        ]
    },
    {
        "id": "651f1e98c04e544f",
        "type": "ui_text",
        "z": "5664a048acfcbac1",
        "group": "44de918663ff4cd7",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Baseline",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 600,
        "y": 320,
        "wires": []
    },
    {
        "id": "479c1ae3e4ba294f",
        "type": "ui_button",
        "z": "0d812e09d413a274",
        "name": "",
        "group": "58f8c24c9a9fdac1",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Clean Room",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "TOGGLE",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 250,
        "y": 40,
        "wires": [
            [
                "dd54176ef82be226"
            ]
        ]
    },
    {
        "id": "dd54176ef82be226",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Cleanroom/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 470,
        "y": 40,
        "wires": []
    },
    {
        "id": "4c9ee92f533a9215",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Toggle",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 90,
        "y": 40,
        "wires": [
            [
                "479c1ae3e4ba294f"
            ]
        ]
    },
    {
        "id": "7e81d3d19938034f",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Cleanroom/Status",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 330,
        "y": 120,
        "wires": []
    },
    {
        "id": "f04e5b5a9456a951",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Status",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 100,
        "y": 120,
        "wires": [
            [
                "7e81d3d19938034f"
            ]
        ]
    },
    {
        "id": "1b9749f66610d4c2",
        "type": "comment",
        "z": "0d812e09d413a274",
        "name": "Query device status",
        "info": "",
        "x": 110,
        "y": 80,
        "wires": []
    },
    {
        "id": "30818ba023246fe2",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Cleanroom/STATUS5",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 240,
        "wires": [
            [
                "d1371af8bbfbfe26",
                "7156af54c0405f31"
            ]
        ]
    },
    {
        "id": "c027bcb7c1d7af8f",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "tele/Cleanroom/LWT",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 180,
        "wires": [
            [
                "69bce279412d9260"
            ]
        ]
    },
    {
        "id": "5986ddf13b2a0fac",
        "type": "ui_button",
        "z": "0d812e09d413a274",
        "name": "",
        "group": "58f8c24c9a9fdac1",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Woodwork",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "TOGGLE",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 250,
        "y": 540,
        "wires": [
            [
                "335f35da0c165c6a"
            ]
        ]
    },
    {
        "id": "335f35da0c165c6a",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Woodwork/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 470,
        "y": 540,
        "wires": []
    },
    {
        "id": "f149bb7fb32bd1a1",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Toggle",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "5986ddf13b2a0fac"
            ]
        ]
    },
    {
        "id": "36164c518e969c3f",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Woodwork/Status",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 330,
        "y": 620,
        "wires": []
    },
    {
        "id": "b851906b18ed791a",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Status",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 100,
        "y": 620,
        "wires": [
            [
                "36164c518e969c3f"
            ]
        ]
    },
    {
        "id": "f8b6dbae06488da2",
        "type": "comment",
        "z": "0d812e09d413a274",
        "name": "Query device status",
        "info": "",
        "x": 110,
        "y": 580,
        "wires": []
    },
    {
        "id": "ccb840d2123679f0",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 3,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "Offline",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "Online",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "CleanRoom LED",
        "x": 610,
        "y": 200,
        "wires": []
    },
    {
        "id": "d1371af8bbfbfe26",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "IP",
        "rules": [
            {
                "t": "set",
                "p": "CleanRoomIP",
                "pt": "flow",
                "to": "payload.StatusNET.IPAddress",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 240,
        "wires": [
            [
                "7d08b6ae0b95b6ce"
            ]
        ]
    },
    {
        "id": "69bce279412d9260",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "Status",
        "rules": [
            {
                "t": "set",
                "p": "CleanRoomStatus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "7d08b6ae0b95b6ce"
            ]
        ]
    },
    {
        "id": "7d08b6ae0b95b6ce",
        "type": "function",
        "z": "0d812e09d413a274",
        "name": "Join",
        "func": "msg.topic = flow.get('CleanRoomIP') || 'Waiting';\nmsg.payload = flow.get('CleanRoomStatus') === 'Online' ? 'Online' : 'Offline';\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 200,
        "wires": [
            [
                "ccb840d2123679f0"
            ]
        ]
    },
    {
        "id": "f24ffb348434d70d",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Woodwork/STATUS5",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 740,
        "wires": [
            [
                "a60cb6d49664896a"
            ]
        ]
    },
    {
        "id": "056109564553afea",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "tele/Woodwork/LWT",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 680,
        "wires": [
            [
                "64253d7bb15ad801"
            ]
        ]
    },
    {
        "id": "08b921146a6fe5fb",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 6,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "Offline",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "Online",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Woodwork LED",
        "x": 640,
        "y": 700,
        "wires": []
    },
    {
        "id": "a60cb6d49664896a",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "IP",
        "rules": [
            {
                "t": "set",
                "p": "WoodworkIP",
                "pt": "flow",
                "to": "payload.StatusNET.IPAddress",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 740,
        "wires": [
            [
                "82125c3f1e798808"
            ]
        ]
    },
    {
        "id": "64253d7bb15ad801",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "Status",
        "rules": [
            {
                "t": "set",
                "p": "WoodworkStatus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 680,
        "wires": [
            [
                "82125c3f1e798808"
            ]
        ]
    },
    {
        "id": "82125c3f1e798808",
        "type": "function",
        "z": "0d812e09d413a274",
        "name": "Join",
        "func": "msg.topic = flow.get('WoodworkIP');\nmsg.payload = flow.get('WoodworkStatus') === 'Online' ? 'Online' : 'Offline';\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 700,
        "wires": [
            [
                "08b921146a6fe5fb"
            ]
        ]
    },
    {
        "id": "711cd86d14a372e5",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "",
        "props": [
            {
                "p": "payload.StatusNET.IPAddress",
                "v": "Not found",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 190,
        "y": 780,
        "wires": [
            [
                "a60cb6d49664896a"
            ]
        ]
    },
    {
        "id": "1e0d73a5e138efe4",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "",
        "props": [
            {
                "p": "payload.StatusNET.IPAddress",
                "v": "Not found",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 190,
        "y": 300,
        "wires": [
            [
                "d1371af8bbfbfe26"
            ]
        ]
    },
    {
        "id": "945802a40659c8c2",
        "type": "ui_button",
        "z": "0d812e09d413a274",
        "name": "",
        "group": "58f8c24c9a9fdac1",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Main Room",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "TOGGLE",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1010,
        "y": 40,
        "wires": [
            [
                "b0aeb268b9663fc5"
            ]
        ]
    },
    {
        "id": "b0aeb268b9663fc5",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Mainroom/POWER",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 1230,
        "y": 40,
        "wires": []
    },
    {
        "id": "9aca5328f6a960ee",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Toggle",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 850,
        "y": 40,
        "wires": [
            [
                "945802a40659c8c2"
            ]
        ]
    },
    {
        "id": "497d0d4254d5144b",
        "type": "mqtt out",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "cmnd/Mainroom/Status",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "38e902423e538381",
        "x": 1090,
        "y": 120,
        "wires": []
    },
    {
        "id": "3c4388a960057d69",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "Status",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 860,
        "y": 120,
        "wires": [
            [
                "497d0d4254d5144b"
            ]
        ]
    },
    {
        "id": "0d6feddebf1929ae",
        "type": "comment",
        "z": "0d812e09d413a274",
        "name": "Query device status",
        "info": "",
        "x": 870,
        "y": 80,
        "wires": []
    },
    {
        "id": "aaa5b44026e85c38",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Mainroom/STATUS5",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 890,
        "y": 240,
        "wires": [
            [
                "e46a51faabbef3ae"
            ]
        ]
    },
    {
        "id": "c4d23d4beb699090",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "tele/Mainroom/LWT",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 870,
        "y": 180,
        "wires": [
            [
                "6b293e1a3bf59b2f"
            ]
        ]
    },
    {
        "id": "20117b99156c0f55",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 12,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "Offline",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "Online",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Main Room LED",
        "x": 1380,
        "y": 200,
        "wires": []
    },
    {
        "id": "e46a51faabbef3ae",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "IP",
        "rules": [
            {
                "t": "set",
                "p": "MovableIP",
                "pt": "flow",
                "to": "payload.StatusNET.IPAddress",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 240,
        "wires": [
            [
                "2eba751e02158a7e"
            ]
        ]
    },
    {
        "id": "6b293e1a3bf59b2f",
        "type": "change",
        "z": "0d812e09d413a274",
        "name": "Status",
        "rules": [
            {
                "t": "set",
                "p": "MovableStatus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 180,
        "wires": [
            [
                "2eba751e02158a7e"
            ]
        ]
    },
    {
        "id": "2eba751e02158a7e",
        "type": "function",
        "z": "0d812e09d413a274",
        "name": "Join",
        "func": "msg.topic = flow.get('MovableIP') || 'Waiting...';\nmsg.payload = flow.get('MovableStatus') === 'Online' ? 'Online' : 'Offline';\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 200,
        "wires": [
            [
                "20117b99156c0f55"
            ]
        ]
    },
    {
        "id": "0d632681ec72da54",
        "type": "inject",
        "z": "0d812e09d413a274",
        "name": "",
        "props": [
            {
                "p": "payload.StatusNET.IPAddress",
                "v": "Not found",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 930,
        "y": 300,
        "wires": [
            [
                "e46a51faabbef3ae"
            ]
        ]
    },
    {
        "id": "7156af54c0405f31",
        "type": "debug",
        "z": "0d812e09d413a274",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 300,
        "wires": []
    },
    {
        "id": "625e298bdf114840",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Cleanroom/RESULT",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 360,
        "wires": [
            [
                "31c5a007fc103862",
                "e270c4eae0871968"
            ]
        ]
    },
    {
        "id": "31c5a007fc103862",
        "type": "debug",
        "z": "0d812e09d413a274",
        "name": "debug 18",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 360,
        "wires": []
    },
    {
        "id": "e270c4eae0871968",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 4,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "Clean Room Light",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "{\"POWER1\":\"Blink ON\"}",
                "valueType": "json"
            },
            {
                "color": "#ffa500",
                "value": "ON",
                "valueType": "str"
            },
            {
                "color": "#ffa500",
                "value": "{\"POWER1\":\"ON\"}",
                "valueType": "json"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Cleanroom OnOff LED",
        "x": 420,
        "y": 420,
        "wires": []
    },
    {
        "id": "4e26b26ca107c98a",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Cleanroom/POWER",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 420,
        "wires": [
            [
                "31c5a007fc103862",
                "e270c4eae0871968"
            ]
        ]
    },
    {
        "id": "863853af905fdd43",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Mainroom/POWER",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 880,
        "y": 420,
        "wires": [
            [
                "38227d2fa1999dbe",
                "567c6554f6025612"
            ]
        ]
    },
    {
        "id": "763b59b28ede4535",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Mainroom/RESULT",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 880,
        "y": 360,
        "wires": [
            [
                "38227d2fa1999dbe",
                "567c6554f6025612"
            ]
        ]
    },
    {
        "id": "38227d2fa1999dbe",
        "type": "debug",
        "z": "0d812e09d413a274",
        "name": "debug 15",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 360,
        "wires": []
    },
    {
        "id": "567c6554f6025612",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 13,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "Main Room Light",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "{\"POWER1\":\"Blink ON\"}",
                "valueType": "json"
            },
            {
                "color": "#ffa500",
                "value": "ON",
                "valueType": "str"
            },
            {
                "color": "#ffa500",
                "value": "{\"POWER1\":\"ON\"}",
                "valueType": "json"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Mainroom OnOff LED",
        "x": 1180,
        "y": 420,
        "wires": []
    },
    {
        "id": "fa7709c17ba83032",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Woodwork/RESULT",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 840,
        "wires": [
            [
                "142e98b7482bb5e5",
                "d8cf96821c9de6b7"
            ]
        ]
    },
    {
        "id": "142e98b7482bb5e5",
        "type": "debug",
        "z": "0d812e09d413a274",
        "name": "debug 7",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 840,
        "wires": []
    },
    {
        "id": "d8cf96821c9de6b7",
        "type": "ui_led",
        "z": "0d812e09d413a274",
        "order": 7,
        "group": "58f8c24c9a9fdac1",
        "width": 0,
        "height": 0,
        "label": "Woodwork Light",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "{\"POWER1\":\"Blink ON\"}",
                "valueType": "json"
            },
            {
                "color": "#ffa500",
                "value": "ON",
                "valueType": "str"
            },
            {
                "color": "#ffa500",
                "value": "{\"POWER1\":\"ON\"}",
                "valueType": "json"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Woodwork OnOff LED",
        "x": 420,
        "y": 900,
        "wires": []
    },
    {
        "id": "9933593bf291d77d",
        "type": "mqtt in",
        "z": "0d812e09d413a274",
        "name": "",
        "topic": "stat/Woodwork/POWER",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "38e902423e538381",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 900,
        "wires": [
            [
                "142e98b7482bb5e5",
                "d8cf96821c9de6b7"
            ]
        ]
    }
]